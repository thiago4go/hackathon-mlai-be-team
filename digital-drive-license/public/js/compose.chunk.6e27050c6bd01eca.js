/*! For license information please see compose.chunk.6e27050c6bd01eca.js.LICENSE.txt */
"use strict";(self.webpackChunkpixelfed=self.webpackChunkpixelfed||[]).push([[9124],{5787:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var s=a(16286),i=a(80260),o={};for(const t in i)"default"!==t&&(o[t]=()=>i[t]);a.d(e,o);a(89069);const n=(0,a(14486).default)(i.default,s.render,s.staticRenderFns,!1,null,null,null).exports},6422:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(66517),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i);const o=s.default},7114:(t,e,a)=>{a.r(e);var s=a(18999),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i)},16286:(t,e,a)=>{a.r(e);var s=a(69831),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i)},18999:(t,e,a)=>{a.r(e),a.d(e,{render:()=>s,staticRenderFns:()=>i});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"compose-modal-component"},[e("input",{staticClass:"w-100 h-100 d-none file-input",attrs:{type:"file",id:"pf-dz",name:"media",multiple:"",accept:t.config.uploader.media_types},on:{input:t.onInputFile}}),t._v(" "),e("canvas",{staticClass:"d-none",attrs:{id:"pr_canvas"}}),t._v(" "),e("img",{staticClass:"d-none",attrs:{id:"pr_img"}}),t._v(" "),e("div",{staticClass:"timeline"},[t.uploading?e("div",[e("div",{staticClass:"card status-card card-md-rounded-0 w-100 h-100 bg-light py-3",staticStyle:{"border-bottom":"1px solid #f1f1f1"}},[e("div",{staticClass:"p-5 mt-2"},[e("b-progress",{attrs:{value:t.uploadProgress,max:100,striped:"",animated:!0}}),t._v(" "),e("p",{staticClass:"text-center mb-0 font-weight-bold"},[t._v("Uploading ... ("+t._s(t.uploadProgress)+"%)")])],1)])]):"cameraRoll"==t.page?e("div",[e("div",{staticClass:"card status-card card-md-rounded-0",staticStyle:{display:"flex"}},[t._m(0),t._v(" "),e("div",{staticClass:"h-100 card-body p-0 border-top",staticStyle:{width:"100%","min-height":"400px"}},[t.cameraRollMedia.length>0?e("div",{staticClass:"row p-0 m-0"},t._l(t.cameraRollMedia,function(t,a){return e("div",{class:[0==a?"col-12 p-0":"col-3 p-0"]},[e("div",{staticClass:"card info-overlay p-0 rounded-0 shadow-none border"},[e("div",{staticClass:"square"},[e("img",{staticClass:"square-content",attrs:{src:t.preview_url}})])])])}),0):e("div",{staticClass:"w-100 h-100 d-flex justify-content-center align-items-center"},[e("span",{staticClass:"w-100 h-100"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Upload")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.fetchCameraRollDrafts()}}},[t._v("Load Camera Roll")])])])])])]):"poll"==t.page?e("div",[e("div",{staticClass:"card status-card card-md-rounded-0",staticStyle:{display:"flex"}},[e("div",{staticClass:"card-header d-inline-flex align-items-center justify-content-between bg-white"},[t._m(1),t._v(" "),e("span",{staticClass:"font-weight-bold"},[t._v("\n                        New Poll\n                    ")]),t._v(" "),t.postingPoll?e("span",[t._m(2)]):!t.postingPoll&&t.pollOptions.length>1&&t.composeText.length?e("button",{staticClass:"btn btn-primary btn-sm font-weight-bold",on:{click:t.postNewPoll}},[e("span",[t._v("Create Poll")])]):e("span",{staticClass:"font-weight-bold text-lighter"},[t._v("\n                        Create Poll\n                    ")])]),t._v(" "),e("div",{staticClass:"h-100 card-body p-0 border-top",staticStyle:{width:"100%","min-height":"400px"}},[e("div",{staticClass:"border-bottom mt-2"},[e("div",{staticClass:"media px-3"},[e("img",{staticClass:"rounded-circle",attrs:{src:t.profile.avatar,width:"42px",height:"42px"}}),t._v(" "),e("div",{staticClass:"media-body"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"font-weight-bold text-muted small d-none"},[t._v("Caption")]),t._v(" "),e("vue-tribute",{attrs:{options:t.tributeSettings}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control border-0 rounded-0 no-focus",attrs:{rows:"3",placeholder:"Write a poll question..."},domProps:{value:t.composeText},on:{keyup:function(e){t.composeTextLength=t.composeText.length},input:function(e){e.target.composing||(t.composeText=e.target.value)}}})]),t._v(" "),e("p",{staticClass:"help-text small text-right text-muted mb-0"},[t._v(t._s(t.composeTextLength)+"/"+t._s(t.config.uploader.max_caption_length))])],1)])])]),t._v(" "),e("div",{staticClass:"p-3"},[e("p",{staticClass:"font-weight-bold text-muted small"},[t._v("\n                            Poll Options\n                        ")]),t._v(" "),t.pollOptions.length<4?e("div",{staticClass:"form-group mb-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pollOptionModel,expression:"pollOptionModel"}],staticClass:"form-control rounded-pill",attrs:{type:"text",placeholder:"Add a poll option, press enter to save"},domProps:{value:t.pollOptionModel},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.savePollOption.apply(null,arguments)},input:function(e){e.target.composing||(t.pollOptionModel=e.target.value)}}})]):t._e(),t._v(" "),t._l(t.pollOptions,function(a,s){return e("div",{staticClass:"form-group mb-4 d-flex align-items-center",staticStyle:{"max-width":"400px",position:"relative"}},[e("span",{staticClass:"font-weight-bold mr-2",staticStyle:{position:"absolute",left:"10px"}},[t._v(t._s(s+1)+".")]),t._v(" "),t.pollOptions[s].length<50?e("input",{directives:[{name:"model",rawName:"v-model",value:t.pollOptions[s],expression:"pollOptions[index]"}],staticClass:"form-control rounded-pill",staticStyle:{"padding-left":"30px","padding-right":"90px"},attrs:{type:"text",placeholder:"Add a poll option, press enter to save"},domProps:{value:t.pollOptions[s]},on:{input:function(e){e.target.composing||t.$set(t.pollOptions,s,e.target.value)}}}):e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pollOptions[s],expression:"pollOptions[index]"}],staticClass:"form-control",staticStyle:{"padding-left":"30px","padding-right":"90px"},attrs:{placeholder:"Add a poll option, press enter to save",rows:"3"},domProps:{value:t.pollOptions[s]},on:{input:function(e){e.target.composing||t.$set(t.pollOptions,s,e.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-danger btn-sm rounded-pill font-weight-bold",staticStyle:{position:"absolute",right:"5px"},on:{click:function(e){return t.deletePollOption(s)}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" Delete\n                            ")])])}),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"d-flex justify-content-between"},[e("div",[e("p",{staticClass:"font-weight-bold text-muted small"},[t._v("\n                                    Poll Expiry\n                                ")]),t._v(" "),e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.pollExpiry,expression:"pollExpiry"}],staticClass:"form-control rounded-pill",staticStyle:{width:"200px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.pollExpiry=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"60"}},[t._v("1 hour")]),t._v(" "),e("option",{attrs:{value:"360"}},[t._v("6 hours")]),t._v(" "),e("option",{attrs:{value:"1440",selected:""}},[t._v("24 hours")]),t._v(" "),e("option",{attrs:{value:"10080"}},[t._v("7 days")])])])]),t._v(" "),e("div",[e("p",{staticClass:"font-weight-bold text-muted small"},[t._v("\n                                    Poll Visibility\n                                ")]),t._v(" "),e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.visibility,expression:"visibility"}],staticClass:"form-control rounded-pill",staticStyle:{"max-width":"200px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.visibility=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"public"}},[t._v("Public")]),t._v(" "),e("option",{attrs:{value:"private"}},[t._v("Followers Only")])])])])])],2)])])]):e("div",[e("div",{staticClass:"card status-card card-md-rounded-0 w-100 h-100",staticStyle:{display:"flex"}},[e("div",{staticClass:"card-header d-inline-flex align-items-center justify-content-between bg-white"},[e("div",[1==t.page?e("a",{staticClass:"font-weight-bold text-decoration-none text-muted",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeModal()}}},[e("i",{staticClass:"fas fa-times fa-lg"}),t._v(" "),e("span",{staticClass:"font-weight-bold mb-0"},[t._v(t._s(t.pageTitle))])]):2==t.page?e("span",[t.config.uploader.album_limit>t.media.length?e("button",{staticClass:"btn btn-outline-primary btn-sm font-weight-bold",attrs:{id:"cm-add-media-btn"},on:{click:function(e){return e.preventDefault(),t.addMedia.apply(null,arguments)}}},[e("i",{staticClass:"fas fa-plus"})]):e("button",{staticClass:"btn btn-outline-secondary btn-sm font-weight-bold",attrs:{disabled:""}},[e("i",{staticClass:"fas fa-plus"})]),t._v(" "),e("b-tooltip",{attrs:{target:"cm-add-media-btn",triggers:"hover"}},[t._v("\n                                Upload another photo or video\n                            ")])],1):3==t.page?e("span",[e("a",{staticClass:"text-lighter text-decoration-none mr-3 d-flex align-items-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goBack()}}},[e("i",{staticClass:"fas fa-long-arrow-alt-left fa-lg mr-2"}),t._v(" "),e("span",{staticClass:"btn btn-outline-secondary btn-sm px-2 py-0 disabled",attrs:{disabled:""}},[t._v(t._s(t.media.length))])]),t._v(" "),e("span",{staticClass:"font-weight-bold mb-0"},[t._v(t._s(t.pageTitle))])]):e("span",[e("a",{staticClass:"text-lighter text-decoration-none mr-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goBack()}}},[e("i",{staticClass:"fas fa-long-arrow-alt-left fa-lg"})])]),t._v(" "),e("span",{staticClass:"font-weight-bold mb-0"},[t._v(t._s(t.pageTitle))])]),t._v(" "),2==t.page?e("div",[1==t.media.length?e("a",{staticClass:"text-center text-dark",attrs:{href:"#",title:"Crop & Resize",id:"cm-crop-btn"},on:{click:function(e){return e.preventDefault(),t.showCropPhotoCard.apply(null,arguments)}}},[e("i",{staticClass:"fas fa-crop-alt fa-lg"})]):t._e(),t._v(" "),e("b-tooltip",{attrs:{target:"cm-crop-btn",triggers:"hover"}},[t._v("\n                            Crop & Resize\n                        ")])],1):t._e(),t._v(" "),e("div",[t.pageLoading?e("span",[t._m(3)]):e("span",[!t.pageLoading&&t.page>1&&t.page<=2||1==t.page&&0!=t.ids.length||"cropPhoto"==t.page?e("a",{staticClass:"font-weight-bold text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.nextPage.apply(null,arguments)}}},[t._v("Next")]):t._e(),t._v(" "),t.pageLoading||3!=t.page?t._e():[t.isPosting?e("b-spinner",{attrs:{small:""}}):e("a",{staticClass:"font-weight-bold text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.compose()}}},[t._v("Post")])],t._v(" "),t.pageLoading||"addText"!=t.page?t._e():e("a",{staticClass:"font-weight-bold text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.composeTextPost()}}},[t._v("Post")]),t._v(" "),t.pageLoading||"video-2"!=t.page?t._e():e("a",{staticClass:"font-weight-bold text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.compose()}}},[t._v("Post")])],2)])]),t._v(" "),e("div",{staticClass:"card-body p-0 border-top"},["licensePicker"==t.page?e("div",{staticClass:"w-100 h-100",staticStyle:{"min-height":"280px"}},[e("div",{staticClass:"list-group list-group-flush"},t._l(t.availableLicenses,function(a,s){return e("div",{staticClass:"list-group-item cursor-pointer",class:{"text-primary":t.licenseId===a.id,"font-weight-bold":t.licenseId===a.id},on:{click:function(e){return t.toggleLicense(a)}}},[t._v("\n                                "+t._s(a.name)+"\n                            ")])}),0)]):"textOptions"==t.page?e("div",{staticClass:"w-100 h-100",staticStyle:{"min-height":"280px"}}):"addText"==t.page?e("div",{staticClass:"w-100 h-100",staticStyle:{"min-height":"280px"}},[e("div",{staticClass:"mt-2"},[e("div",{staticClass:"media px-3"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"font-weight-bold text-muted small d-none"},[t._v("Body")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control border-0 rounded-0 no-focus",staticStyle:{"font-size":"18px",resize:"none"},attrs:{rows:"7",placeholder:"What's happening?"},domProps:{value:t.composeText},on:{keyup:function(e){t.composeTextLength=t.composeText.length},input:function(e){e.target.composing||(t.composeText=e.target.value)}}}),t._v(" "),e("div",{staticClass:"border-bottom"}),t._v(" "),e("p",{staticClass:"help-text small text-right text-muted mb-0 font-weight-bold"},[t._v(t._s(t.composeTextLength)+"/"+t._s(t.config.uploader.max_caption_length))]),t._v(" "),e("p",{staticClass:"mb-0 mt-2"},[e("a",{staticClass:"btn btn-primary rounded-pill mr-2",staticStyle:{height:"37px"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showTextOptions()}}},[e("i",{staticClass:"fas fa-palette px-3 text-white"})]),t._v(" "),e("a",{staticClass:"btn rounded-pill mx-3 d-inline-flex align-items-center",class:[t.nsfw?"btn-danger":"btn-outline-lighter"],staticStyle:{height:"37px"},attrs:{href:"#",title:"Mark as sensitive/not safe for work"},on:{click:function(e){e.preventDefault(),t.nsfw=!t.nsfw}}},[e("i",{staticClass:"far fa-flag px-3"}),t._v(" "),e("span",{staticClass:"text-muted small font-weight-bold"})]),t._v(" "),e("a",{staticClass:"btn btn-outline-lighter rounded-pill d-inline-flex align-items-center",staticStyle:{height:"37px"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[e("i",{staticClass:"fas fa-eye mr-2"}),t._v(" "),e("span",{staticClass:"text-muted small font-weight-bold"},[t._v(t._s(t.visibilityTag))])])])])])])])]):1==t.page?e("div",{staticClass:"w-100 h-100 d-flex justify-content-center align-items-center",staticStyle:{"min-height":"400px"}},[e("div",{staticClass:"text-center"},[0==t.media.length?e("div",{staticClass:"card my-md-3 shadow-none border compose-action text-decoration-none text-dark"},[e("div",{staticClass:"card-body py-2",on:{click:function(e){return e.preventDefault(),t.addMedia.apply(null,arguments)}}},[e("div",{staticClass:"media"},[t._m(4),t._v(" "),e("div",{staticClass:"media-body text-left"},[t._m(5),t._v(" "),e("p",{staticClass:"mb-0 text-muted"},[t._v("Share up to "+t._s(t.config.uploader.album_limit)+" photos or videos")]),t._v(" "),e("p",{staticClass:"mb-0 text-muted small"},[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.config.uploader.media_types.split(",").map(function(t){return t.split("/")[1]}).join(", ")))]),t._v(" allowed up to "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.filesize(t.config.uploader.max_photo_size)))])])])])])]):t._e(),t._v(" "),t._e(),t._v(" "),1==t.config.features.stories?e("a",{staticClass:"card my-md-3 shadow-none border compose-action text-decoration-none text-dark",attrs:{href:"/i/stories/new"}},[t._m(7)]):t._e(),t._v(" "),t._e(),t._v(" "),t._m(9),t._v(" "),t._m(10)])]):"cropPhoto"==t.page?e("div",{staticClass:"w-100 h-100"},[t.media.length>0?e("div",[e("vue-cropper",{ref:"cropper",attrs:{relativeZoom:t.cropper.zoom,aspectRatio:t.cropper.aspectRatio,viewMode:t.cropper.viewMode,zoomable:t.cropper.zoomable,rotatable:!0,src:t.media[t.carouselCursor].url}})],1):t._e()]):2==t.page?e("div",{staticClass:"w-100 h-100"},[1==t.media.length?e("div",["image"===t.media[0].type?[e("media-editor-preview",{staticClass:"media-editor",attrs:{editor:t.editor,sourceIndex:0}}),t._v(" "),e("hr"),t._v(" "),e("media-editor-filter-menu",{staticClass:"media-editor",attrs:{editor:t.editor,sourceIndex:0}})]:e("img",{staticClass:"d-block img-fluid w-100",attrs:{src:"/storage/no-preview.png",alt:t.media[t.carouselCursor].description,title:t.media[t.carouselCursor].description}})],2):t.media.length>1?e("div",{staticClass:"d-flex-inline px-2 pt-2"},[e("ul",{staticClass:"nav media-drawer-filters text-center pb-3"},[e("li",{staticClass:"nav-item mx-md-4"},[t._v(" ")]),t._v(" "),t._l(t.media,function(a,s){return e("li",{key:s+(t.ids[s]||a.url||""),staticClass:"nav-item mx-md-4"},[e("div",{staticClass:"nav-link",staticStyle:{display:"block",width:"300px",height:"300px"},on:{click:function(e){t.carouselCursor=s}}},[e("div",{class:[a.filter_class?a.filter_class:""],staticStyle:{width:"100%",height:"100%",display:"block"}},["image"===a.type?e("media-editor-preview",{staticClass:"media-editor",class:"rounded "+[s==t.carouselCursor?" border border-primary shadow":""],staticStyle:{width:"100%",height:"100%"},attrs:{editor:t.editor,sourceIndex:s}}):e("img",{staticClass:"d-block img-fluid w-100",attrs:{src:"/storage/no-preview.png",alt:t.media[t.carouselCursor].description,title:t.media[t.carouselCursor].description}})],1)]),t._v(" "),s==t.carouselCursor?e("div",{staticClass:"text-center mb-0 small text-lighter font-weight-bold pt-2"},[e("button",{staticClass:"btn btn-link",on:{click:function(e){return t.mediaReorder("prev")}}},[e("i",{staticClass:"far fa-chevron-circle-left"})]),t._v(" "),e("span",{staticClass:"cursor-pointer",on:{click:function(e){return e.preventDefault(),t.showCropPhotoCard.apply(null,arguments)}}},[t._v("Crop")]),t._v(" "),e("span",{staticClass:"cursor-pointer px-3",on:{click:function(e){return e.preventDefault(),t.showEditMediaCard()}}},[t._v("Edit")]),t._v(" "),e("span",{staticClass:"cursor-pointer",on:{click:function(e){return t.deleteMedia()}}},[t._v("Delete")]),t._v(" "),e("button",{staticClass:"btn btn-link",on:{click:function(e){return t.mediaReorder("next")}}},[e("i",{staticClass:"far fa-chevron-circle-right"})])]):t._e()])}),t._v(" "),e("li",{staticClass:"nav-item mx-md-4"},[t._v(" ")])],2),t._v(" "),e("hr"),t._v(" "),"image"==t.media[t.carouselCursor].type?e("div",{staticClass:"align-items-center px-2 pt-2"},[e("media-editor-filter-menu",{staticClass:"media-editor",attrs:{editor:t.editor,sourceIndex:t.carouselCursor}})],1):t._e()]):e("div",[e("p",{staticClass:"mb-0 p-5 text-center font-weight-bold"},[t._v("An error occured, please refresh the page.")])])]):3==t.page?e("div",{staticClass:"w-100 h-100"},[e("div",{staticClass:"border-bottom mt-2"},[e("div",{staticClass:"media px-3"},[e("img",{staticClass:"mr-2",attrs:{src:t.media[0].preview_url,width:"42px",height:"42px"}}),t._v(" "),e("div",{staticClass:"media-body"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"font-weight-bold text-muted small d-none"},[t._v("Caption")]),t._v(" "),e("vue-tribute",{attrs:{options:t.tributeSettings}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.composeText,expression:"composeText"}],staticClass:"form-control border-0 rounded-0 no-focus",attrs:{rows:"3",placeholder:"Write a caption..."},domProps:{value:t.composeText},on:{keyup:function(e){t.composeTextLength=t.composeText.length},input:function(e){e.target.composing||(t.composeText=e.target.value)}}})]),t._v(" "),e("p",{staticClass:"help-text small text-right text-muted mb-0"},[t._v(t._s(t.composeTextLength)+"/"+t._s(t.config.uploader.max_caption_length))])],1)])])]),t._v(" "),e("div",{staticClass:"border-bottom"},[e("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer d-flex justify-content-between",on:{click:function(e){return t.showMediaDescriptionsCard()}}},[e("span",[t._v("Alt Text")]),t._v(" "),e("span",[t.media&&t.media.filter(function(t){return t.alt}).length==t.media.length?e("i",{staticClass:"fas fa-check-circle fa-lg text-success"}):e("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])])]),t._v(" "),e("div",{staticClass:"border-bottom px-4 mb-0 py-2"},[e("div",{staticClass:"d-flex justify-content-between"},[t._m(11),t._v(" "),e("div",[e("div",{staticClass:"custom-control custom-switch",staticStyle:{"z-index":"9999"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nsfw,expression:"nsfw"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"asnsfw"},domProps:{checked:Array.isArray(t.nsfw)?t._i(t.nsfw,null)>-1:t.nsfw},on:{change:function(e){var a=t.nsfw,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.nsfw=a.concat([null])):o>-1&&(t.nsfw=a.slice(0,o).concat(a.slice(o+1)))}else t.nsfw=i}}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"asnsfw"}})])])]),t._v(" "),t.nsfw?e("div",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.spoilerText,expression:"spoilerText"}],staticClass:"form-control mt-3",attrs:{placeholder:"Add an optional content warning or spoiler text",maxlength:"140"},domProps:{value:t.spoilerText},on:{input:function(e){e.target.composing||(t.spoilerText=e.target.value)}}}),t._v(" "),e("p",{staticClass:"help-text small text-right text-muted mb-0"},[t._v(t._s(t.spoilerTextLength)+"/140")])]):t._e()]),t._v(" "),e("div",{staticClass:"border-bottom"},[e("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showTagCard()}}},[t._v("Tag people")])]),t._v(" "),e("div",{staticClass:"border-bottom"},[e("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showCollectionCard()}}},[t._m(12),t._v(" "),e("span",{staticClass:"float-right"},[t.collectionsSelected.length?e("span",{staticClass:"btn btn-outline-secondary btn-sm small mr-3 mt-n1 disabled",staticStyle:{"font-size":"10px",padding:"3px 5px","text-transform":"uppercase"},attrs:{href:"#",disabled:""}},[t._v("\n                                        "+t._s(t.collectionsSelected.length)+"\n                                    ")]):t._e(),t._v(" "),t._m(13)])])]),t._v(" "),e("div",{staticClass:"border-bottom"},[e("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showLicenseCard()}}},[e("span",[t._v("Add license")]),t._v(" "),e("span",{staticClass:"float-right"},[t.licenseTitle?e("a",{staticClass:"btn btn-outline-secondary btn-sm small mr-3 mt-n1 disabled",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#",disabled:""},on:{click:function(e){return e.preventDefault(),t.showLicenseCard()}}},[t._v(t._s(t.licenseTitle))]):t._e(),t._v(" "),e("a",{staticClass:"text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showLicenseCard()}}},[e("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])])])]),t._v(" "),e("div",{staticClass:"border-bottom"},[t.place?e("p",{staticClass:"px-4 mb-0 py-2"},[e("span",{staticClass:"text-lighter"},[t._v("Location:")]),t._v(" "+t._s(t.place.name)+", "+t._s(t.place.country)+"\n                                "),e("span",{staticClass:"float-right"},[e("a",{staticClass:"btn btn-outline-secondary btn-sm small mr-2",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showLocationCard()}}},[t._v("Edit")]),t._v(" "),e("a",{staticClass:"btn btn-outline-secondary btn-sm small",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.place=!1}}},[t._v("Remove")])])]):e("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showLocationCard()}}},[t._v("Add location")])]),t._v(" "),e("div",{staticClass:"border-bottom"},[e("p",{staticClass:"px-4 mb-0 py-2"},[e("span",[t._v("Audience")]),t._v(" "),e("span",{staticClass:"float-right"},[e("a",{staticClass:"btn btn-outline-secondary btn-sm small mr-3 mt-n1 disabled",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#",disabled:""},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[t._v(t._s(t.visibilityTag))]),t._v(" "),e("a",{staticClass:"text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[e("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])])])]),t._v(" "),e("div",{staticStyle:{"min-height":"200px"}},[e("p",{staticClass:"px-4 mb-0 py-2 small font-weight-bold text-muted cursor-pointer",on:{click:function(e){return t.showAdvancedSettingsCard()}}},[t._v("Advanced settings")])])]):"tagPeople"==t.page?e("div",{staticClass:"w-100 h-100 p-3"},[e("autocomplete",{directives:[{name:"show",rawName:"v-show",value:t.taggedUsernames.length<10,expression:"taggedUsernames.length < 10"}],ref:"autocomplete",attrs:{search:t.tagSearch,placeholder:"@pixelfed","aria-label":"Search usernames","get-result-value":t.getTagResultValue},on:{submit:t.onTagSubmitLocation}}),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.taggedUsernames.length<10,expression:"taggedUsernames.length < 10"}],staticClass:"font-weight-bold text-muted small"},[t._v("You can tag "+t._s(10-t.taggedUsernames.length)+" more "+t._s(9==t.taggedUsernames.length?"person":"people")+"!")]),t._v(" "),e("p",{staticClass:"font-weight-bold text-center mt-3"},[t._v("Tagged People")]),t._v(" "),e("div",{staticClass:"list-group"},[t._l(t.taggedUsernames,function(a,s){return e("div",{staticClass:"list-group-item d-flex justify-content-between"},[e("div",{staticClass:"media"},[e("img",{staticClass:"mr-2 rounded-circle border",attrs:{src:a.avatar,width:"24px",height:"24px"}}),t._v(" "),e("div",{staticClass:"media-body"},[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.name))])])]),t._v(" "),e("div",{staticClass:"custom-control custom-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.privacy,expression:"tag.privacy"}],staticClass:"custom-control-input disabled",attrs:{type:"checkbox",id:"cci-tagged-privacy-switch"+s,disabled:""},domProps:{checked:Array.isArray(a.privacy)?t._i(a.privacy,null)>-1:a.privacy},on:{change:function(e){var s=a.privacy,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(a,"privacy",s.concat([null])):n>-1&&t.$set(a,"privacy",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(a,"privacy",o)}}}),t._v(" "),e("label",{staticClass:"custom-control-label font-weight-bold text-lighter",attrs:{for:"cci-tagged-privacy-switch"+s}},[t._v(t._s(a.privacy?"Public":"Private"))]),t._v(" "),e("a",{staticClass:"ml-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.untagUsername(s)}}},[e("i",{staticClass:"fas fa-times text-muted"})])])])}),t._v(" "),0==t.taggedUsernames.length?e("div",{staticClass:"list-group-item p-3"},[e("p",{staticClass:"text-center mb-0 font-weight-bold text-lighter"},[t._v("Search usernames to tag.")])]):t._e()],2),t._v(" "),e("p",{staticClass:"font-weight-bold text-center small text-muted pt-3 mb-0"},[t._v("When you tag someone, they are sent a notification."),e("br"),t._v("For more information on tagging, "),e("a",{staticClass:"text-primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showTagHelpCard()}}},[t._v("click here")]),t._v(".")])],1):"tagPeopleHelp"==t.page?e("div",{staticClass:"w-100 h-100 p-3"},[e("p",{staticClass:"mb-0 text-center py-3 px-2 lead"},[t._v("Tagging someone is like mentioning them, with the option to make it private between you.")]),t._v(" "),e("p",{staticClass:"mb-3 py-3 px-2 font-weight-lighter"},[t._v("\n                            You can choose to tag someone in public or private mode. Public mode will allow others to see who you tagged in the post and private mode tagged users will not be shown to others.\n                        ")])]):"addLocation"==t.page?e("div",{staticClass:"w-100 h-100 p-3"},[e("p",{staticClass:"mb-0"},[t._v("Add Location")]),t._v(" "),e("autocomplete",{attrs:{search:t.locationSearch,placeholder:"Search locations ...","aria-label":"Search locations ...","get-result-value":t.getResultValue},on:{submit:t.onSubmitLocation}})],1):"advancedSettings"==t.page?e("div",{staticClass:"w-100 h-100"},[e("div",{staticClass:"list-group list-group-flush"},[e("div",{staticClass:"list-group-item d-flex justify-content-between"},[t._m(14),t._v(" "),e("div",[e("div",{staticClass:"custom-control custom-switch",staticStyle:{"z-index":"9999"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.commentsDisabled,expression:"commentsDisabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"asdisablecomments"},domProps:{checked:Array.isArray(t.commentsDisabled)?t._i(t.commentsDisabled,null)>-1:t.commentsDisabled},on:{change:function(e){var a=t.commentsDisabled,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.commentsDisabled=a.concat([null])):o>-1&&(t.commentsDisabled=a.slice(0,o).concat(a.slice(o+1)))}else t.commentsDisabled=i}}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"asdisablecomments"}})])])]),t._v(" "),e("a",{staticClass:"list-group-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showMediaDescriptionsCard()}}},[t._m(15)])])]):"visibility"==t.page?e("div",{staticClass:"w-100 h-100"},[e("div",{staticClass:"list-group list-group-flush"},[t.profile.locked?t._e():e("div",{staticClass:"list-group-item lead cursor-pointer",class:{"text-primary":"public"==t.visibility},on:{click:function(e){return t.toggleVisibility("public")}}},[t._v("\n                                Public\n                            ")]),t._v(" "),t.profile.locked?t._e():e("div",{staticClass:"list-group-item lead cursor-pointer",class:{"text-primary":"unlisted"==t.visibility},on:{click:function(e){return t.toggleVisibility("unlisted")}}},[t._v("\n                                Unlisted\n                            ")]),t._v(" "),e("div",{staticClass:"list-group-item lead cursor-pointer",class:{"text-primary":"private"==t.visibility},on:{click:function(e){return t.toggleVisibility("private")}}},[t._v("\n                                Followers Only\n                            ")])])]):"altText"==t.page?e("div",{staticClass:"w-100 h-100 p-3"},[t._l(t.media,function(a,s){return e("div",[e("div",{staticClass:"media"},[e("img",{staticClass:"mr-3",attrs:{src:a.preview_url,width:"50px",height:"50px"}}),t._v(" "),e("div",{staticClass:"media-body"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.alt,expression:"m.alt"}],staticClass:"form-control",attrs:{placeholder:"Add a media description here...",maxlength:t.maxAltTextLength,rows:"4"},domProps:{value:a.alt},on:{input:function(e){e.target.composing||t.$set(a,"alt",e.target.value)}}}),t._v(" "),e("p",{staticClass:"help-text small text-right text-muted mb-0"},[t._v(t._s(a.alt?a.alt.length:0)+"/"+t._s(t.maxAltTextLength))])])]),t._v(" "),e("hr")])}),t._v(" "),e("p",{staticClass:"d-flex justify-content-between mb-0"},[e("button",{staticClass:"btn btn-link text-muted font-weight-bold text-decoration-none",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Cancel")]),t._v(" "),e("button",{staticClass:"btn btn-primary font-weight-bold",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Save")])])],2):"addToCollection"==t.page?e("div",{staticClass:"w-100 h-100 p-3"},[t.collectionsLoaded&&t.collections.length?e("div",{staticClass:"list-group mb-3 collections-list-group"},[t._l(t.collections,function(a,s){return e("div",{staticClass:"list-group-item cursor-pointer compose-action border",class:{active:t.collectionsSelected.includes(s)},on:{click:function(e){return t.toggleCollectionItem(s)}}},[e("div",{staticClass:"media"},[e("img",{staticClass:"mr-3",attrs:{src:a.thumb,alt:"",width:"50px",height:"50px"}}),t._v(" "),e("div",{staticClass:"media-body"},[e("h5",{staticClass:"mt-0"},[t._v(t._s(a.title))]),t._v(" "),e("p",{staticClass:"mb-0 text-muted small"},[e("span",[t._v(t._s(a.post_count)+" Posts")]),t._v(" "),e("span",[t._v("·")]),t._v(" "),"draft"===a.visibility?e("span",{staticClass:"primary"},[e("i",{staticClass:"far fa-lock fa-sm"}),t._v(" "+t._s(t.$t("profile.draft")))]):e("span",[t._v("Created "+t._s(t.timeago(a.published_at))+" ago")])])])])])}),t._v(" "),t.collectionsCanLoadMore?e("button",{staticClass:"btn btn-light btn-block font-weight-bold mt-3",on:{click:t.loadMoreCollections}},[t._v("\n                                Load more\n                            ")]):t._e()],2):t._e(),t._v(" "),e("p",{staticClass:"d-flex justify-content-between mb-0"},[e("button",{staticClass:"btn btn-link text-muted font-weight-bold text-decoration-none",attrs:{type:"button"},on:{click:function(e){return t.clearSelectedCollections()}}},[t._v("Clear")]),t._v(" "),e("button",{staticClass:"btn btn-primary font-weight-bold",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Save")])])]):"schedulePost"==t.page||"mediaMetadata"==t.page||"addToStory"==t.page?e("div",{staticClass:"w-100 h-100 p-3"},[e("p",{staticClass:"text-center lead text-muted mb-0 py-5"},[t._v("This feature is not available yet.")])]):"editMedia"==t.page?e("div",{staticClass:"w-100 h-100 p-3"},[e("div",{staticClass:"media"},[e("img",{staticClass:"mr-3",attrs:{src:t.media[t.carouselCursor].preview_url,width:"50px",height:"50px"}}),t._v(" "),e("div",{staticClass:"media-body"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"font-weight-bold text-muted small"},[t._v("Media Description")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.media[t.carouselCursor].alt,expression:"media[carouselCursor].alt"}],staticClass:"form-control",attrs:{placeholder:"Add a media description here...",maxlength:t.config.uploader.max_altext_length},domProps:{value:t.media[t.carouselCursor].alt},on:{input:function(e){e.target.composing||t.$set(t.media[t.carouselCursor],"alt",e.target.value)}}}),t._v(" "),e("p",{staticClass:"help-text small text-muted mb-0 d-flex justify-content-between"},[e("span",[t._v("Describe your photo for people with visual impairments.")]),t._v(" "),e("span",[t._v(t._s(t.media[t.carouselCursor].alt?t.media[t.carouselCursor].alt.length:0)+"/"+t._s(t.config.uploader.max_altext_length))])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"font-weight-bold text-muted small"},[t._v("License")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.licenseId,expression:"licenseId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.licenseId=e.target.multiple?a:a[0]}}},t._l(t.availableLicenses,function(a,s){return e("option",{domProps:{value:a.id,selected:a.id==t.licenseId}},[t._v("\n                                            "+t._s(a.name)+"\n                                        ")])}),0)])])]),t._v(" "),e("hr"),t._v(" "),e("p",{staticClass:"d-flex justify-content-between mb-0"},[e("button",{staticClass:"btn btn-link text-muted font-weight-bold text-decoration-none",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Cancel")]),t._v(" "),e("button",{staticClass:"btn btn-primary font-weight-bold",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v("Save")])])]):"video-2"==t.page?e("div",{staticClass:"w-100 h-100"},[t.video.title.length?e("div",{staticClass:"border-bottom"},[e("div",{staticClass:"media p-3"},[e("img",{staticClass:"mr-2",attrs:{src:t.media[0].preview_url,width:"100px",height:"70px"}}),t._v(" "),e("div",{staticClass:"media-body"},[e("p",{staticClass:"font-weight-bold mb-1"},[t._v(t._s(t.video.title?t.video.title.slice(0,70):"Untitled"))]),t._v(" "),e("p",{staticClass:"mb-0 text-muted small"},[t._v(t._s(t.video.description?t.video.description.slice(0,90):"No description"))])])])]):t._e(),t._v(" "),e("div",{staticClass:"border-bottom d-flex justify-content-between px-4 mb-0 py-2"},[t._m(16),t._v(" "),e("div",[e("div",{staticClass:"custom-control custom-switch",staticStyle:{"z-index":"9999"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nsfw,expression:"nsfw"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"asnsfw"},domProps:{checked:Array.isArray(t.nsfw)?t._i(t.nsfw,null)>-1:t.nsfw},on:{change:function(e){var a=t.nsfw,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.nsfw=a.concat([null])):o>-1&&(t.nsfw=a.slice(0,o).concat(a.slice(o+1)))}else t.nsfw=i}}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"asnsfw"}})])])]),t._v(" "),e("div",{staticClass:"border-bottom"},[e("p",{staticClass:"px-4 mb-0 py-2 cursor-pointer",on:{click:function(e){return t.showLicenseCard()}}},[t._v("Add license")])]),t._v(" "),e("div",{staticClass:"border-bottom"},[e("p",{staticClass:"px-4 mb-0 py-2"},[e("span",[t._v("Audience")]),t._v(" "),e("span",{staticClass:"float-right"},[e("a",{staticClass:"btn btn-outline-secondary btn-sm small mr-3 mt-n1 disabled",staticStyle:{"font-size":"10px",padding:"3px","text-transform":"uppercase"},attrs:{href:"#",disabled:""},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[t._v(t._s(t.visibilityTag))]),t._v(" "),e("a",{staticClass:"text-decoration-none",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showVisibilityCard()}}},[e("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])])])]),t._v(" "),e("div",{staticClass:"p-3"},[e("div",{staticClass:"form-group"},[e("p",{staticClass:"small font-weight-bold text-muted mb-0"},[t._v("Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.video.title,expression:"video.title"}],staticClass:"form-control",attrs:{placeholder:"Add a good title"},domProps:{value:t.video.title},on:{input:function(e){e.target.composing||t.$set(t.video,"title",e.target.value)}}}),t._v(" "),e("p",{staticClass:"help-text mb-0 small text-muted"},[t._v(t._s(t.video.title.length)+"/70")])]),t._v(" "),e("div",{staticClass:"form-group mb-0"},[e("p",{staticClass:"small font-weight-bold text-muted mb-0"},[t._v("Description")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.video.description,expression:"video.description"}],staticClass:"form-control",attrs:{placeholder:"Add an optional description",maxlength:"5000",rows:"5"},domProps:{value:t.video.description},on:{input:function(e){e.target.composing||t.$set(t.video,"description",e.target.value)}}}),t._v(" "),e("p",{staticClass:"help-text mb-0 small text-muted"},[t._v(t._s(t.video.description.length)+"/5000")])])])]):t._e()]),t._v(" "),"cropPhoto"==t.page?e("div",{staticClass:"card-footer bg-white d-flex justify-content-between"},[e("div",[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.rotate}},[e("i",{staticClass:"fas fa-redo"})])]),t._v(" "),e("div",[e("div",{staticClass:"d-inline-block button-group"},[e("button",{class:"btn font-weight-bold "+[t.cropper.aspectRatio==16/9?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(16/9)}}},[t._v("16:9")]),t._v(" "),e("button",{class:"btn font-weight-bold "+[t.cropper.aspectRatio==4/3?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(4/3)}}},[t._v("4:3")]),t._v(" "),e("button",{class:"btn font-weight-bold "+[1.5==t.cropper.aspectRatio?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(1.5)}}},[t._v("3:2")]),t._v(" "),e("button",{class:"btn font-weight-bold "+[1==t.cropper.aspectRatio?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(1)}}},[t._v("1:1")]),t._v(" "),e("button",{class:"btn font-weight-bold "+[t.cropper.aspectRatio==2/3?"btn-primary":"btn-light"],on:{click:function(e){return e.preventDefault(),t.changeAspect(2/3)}}},[t._v("2:3")])])])]):t._e()])])])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header d-inline-flex align-items-center justify-content-between bg-white"},[e("span",{staticClass:"pr-3"},[e("i",{staticClass:"fas fa-cog fa-lg text-muted"})]),t._v(" "),e("span",{staticClass:"font-weight-bold"},[t._v("\n                        Camera Roll\n                    ")]),t._v(" "),e("span",{staticClass:"text-primary font-weight-bold"},[t._v("Upload")])])},function(){var t=this._self._c;return t("span",{staticClass:"pr-3"},[t("i",{staticClass:"fas fa-info-circle fa-lg text-primary"})])},function(){var t=this._self._c;return t("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[this._v("Loading...")])])},function(){var t=this._self._c;return t("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[this._v("Loading...")])])},function(){var t=this._self._c;return t("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%","background-color":"#008DF5"}},[t("i",{staticClass:"fal fa-bolt text-white fa-lg"})])},function(){var t=this._self._c;return t("p",{staticClass:"mb-0"},[t("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[this._v("New Post")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"media"},[e("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%",border:"2px solid #008DF5"}},[e("i",{staticClass:"far fa-edit text-primary fa-lg"})]),t._v(" "),e("div",{staticClass:"media-body text-left"},[e("p",{staticClass:"mb-0"},[e("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[t._v("New Text Post")]),t._v(" "),e("sup",{staticClass:"float-right mt-2"},[e("span",{staticClass:"btn btn-outline-lighter p-1 btn-sm font-weight-bold py-0",staticStyle:{"font-size":"10px","line-height":"0.6"}},[t._v("BETA")])])]),t._v(" "),e("p",{staticClass:"mb-0 text-muted"},[t._v("Share a text only post")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-body py-2"},[e("div",{staticClass:"media"},[e("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%",border:"1px solid #008DF5"}},[e("i",{staticClass:"fas fa-history text-primary fa-lg"})]),t._v(" "),e("div",{staticClass:"media-body text-left"},[e("p",{staticClass:"mb-0"},[e("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[t._v("New Story")]),t._v(" "),e("sup",{staticClass:"float-right mt-2"},[e("span",{staticClass:"btn btn-outline-lighter p-1 btn-sm font-weight-bold py-0",staticStyle:{"font-size":"10px","line-height":"0.6"}},[t._v("BETA")])])]),t._v(" "),e("p",{staticClass:"mb-0 text-muted"},[t._v("Add to your story")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-body py-2"},[e("div",{staticClass:"media"},[e("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%",border:"2px solid #008DF5"}},[e("i",{staticClass:"fas fa-poll-h text-primary fa-lg"})]),t._v(" "),e("div",{staticClass:"media-body text-left"},[e("p",{staticClass:"mb-0"},[e("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[t._v("New Poll")]),t._v(" "),e("sup",{staticClass:"float-right mt-2"},[e("span",{staticClass:"btn btn-outline-lighter p-1 btn-sm font-weight-bold py-0",staticStyle:{"font-size":"10px","line-height":"0.6"}},[t._v("BETA")])])]),t._v(" "),e("p",{staticClass:"mb-0 text-muted"},[t._v("Create a poll")])])])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"card my-md-3 shadow-none border compose-action text-decoration-none text-dark",attrs:{href:"/i/collections/create"}},[e("div",{staticClass:"card-body py-2"},[e("div",{staticClass:"media"},[e("div",{staticClass:"mr-3 align-items-center justify-content-center",staticStyle:{display:"inline-flex",width:"40px",height:"40px","border-radius":"100%",border:"1px solid #008DF5"}},[e("i",{staticClass:"fal fa-images text-primary fa-lg"})]),t._v(" "),e("div",{staticClass:"media-body text-left"},[e("p",{staticClass:"mb-0"},[e("span",{staticClass:"h5 mt-0 font-weight-bold text-primary"},[t._v("New Collection")]),t._v(" "),e("sup",{staticClass:"float-right mt-2"},[e("span",{staticClass:"btn btn-outline-lighter p-1 btn-sm font-weight-bold py-0",staticStyle:{"font-size":"10px","line-height":"0.6"}},[t._v("BETA")])])]),t._v(" "),e("p",{staticClass:"mb-0 text-muted"},[t._v("New collection of posts")])])])])])},function(){var t=this._self._c;return t("p",{staticClass:"py-3"},[t("a",{staticClass:"font-weight-bold",attrs:{href:"/site/help"}},[this._v("Help")])])},function(){var t=this._self._c;return t("div",[t("div",{staticClass:"text-dark"},[this._v("Sensitive/NSFW Media")])])},function(){var t=this,e=t._self._c;return e("span",[t._v("Add to Collection "),e("span",{staticClass:"ml-2 badge badge-primary"},[t._v("NEW")])])},function(){var t=this._self._c;return t("span",{staticClass:"text-decoration-none"},[t("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])},function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"text-dark"},[t._v("Turn off commenting")]),t._v(" "),e("p",{staticClass:"text-muted small mb-0"},[t._v("Disables comments for this post, you can change this later.")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("div",[e("div",{staticClass:"text-dark"},[t._v("Media Descriptions")]),t._v(" "),e("p",{staticClass:"text-muted small mb-0"},[t._v("Describe your photos for people with visual impairments.")])]),t._v(" "),e("div",[e("i",{staticClass:"fas fa-chevron-right fa-lg text-lighter"})])])},function(){var t=this._self._c;return t("div",[t("div",{staticClass:"text-dark"},[this._v("Contains NSFW Media")])])}]},19324:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var s=a(7114),i=a(50427),o={};for(const t in i)"default"!==t&&(o[t]=()=>i[t]);a.d(e,o);a(30023);const n=(0,a(14486).default)(i.default,s.render,s.staticRenderFns,!1,null,null,null).exports},22358:(t,e,a)=>{a.r(e);var s=a(32463),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i)},22699:(t,e,a)=>{a.r(e);var s=a(30916),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i)},28320:(t,e,a)=>{a.r(e),a.d(e,{default:()=>C});var s=a(91584),i=(a(49551),a(2e4)),o=(a(73718),a(79288)),n=a(4717),r=a(67794),l=a(74692);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function d(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach(function(e){m(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function m(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!=c(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var s,i,o,n,r=[],l=!0,c=!1;try{if(o=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;l=!1}else for(;!(l=(s=o.call(a)).done)&&(r.push(s.value),r.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=a.return&&(n=a.return(),Object(n)!==n))return}finally{if(c)throw i}}return r}}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return h(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=Array(e);a<e;a++)s[a]=t[a];return s}function g(){var t,e,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function o(a,s,i,o){var l=s&&s.prototype instanceof r?s:r,c=Object.create(l.prototype);return b(c,"_invoke",function(a,s,i){var o,r,l,c=0,d=i||[],p=!1,u={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,a){return o=e,r=0,l=t,u.n=a,n}};function m(a,s){for(r=a,l=s,e=0;!p&&c&&!i&&e<d.length;e++){var i,o=d[e],m=u.p,f=o[2];a>3?(i=f===s)&&(l=o[(r=o[4])?5:(r=3,3)],o[4]=o[5]=t):o[0]<=m&&((i=a<2&&m<o[1])?(r=0,u.v=s,u.n=o[1]):m<f&&(i=a<3||o[0]>s||s>f)&&(o[4]=a,o[5]=s,u.n=f,r=0))}if(i||a>1)return n;throw p=!0,s}return function(i,d,f){if(c>1)throw TypeError("Generator is already running");for(p&&1===d&&m(d,f),r=d,l=f;(e=r<2?t:l)||!p;){o||(r?r<3?(r>1&&(u.n=-1),m(r,l)):u.n=l:u.v=l);try{if(c=2,o){if(r||(i="next"),e=o[i]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,r<2&&(r=0)}else 1===r&&(e=o.return)&&e.call(o),r<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),r=1);o=t}else if((e=(p=u.n<0)?l:a.call(s,u))!==n)break}catch(e){o=t,r=1,l=e}finally{c=1}}return{value:e,done:p}}}(a,i,o),!0),c}var n={};function r(){}function l(){}function c(){}e=Object.getPrototypeOf;var d=[][s]?e(e([][s]())):(b(e={},s,function(){return this}),e),p=c.prototype=r.prototype=Object.create(d);function u(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,b(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=c,b(p,"constructor",c),b(c,"constructor",l),l.displayName="GeneratorFunction",b(c,i,"GeneratorFunction"),b(p),b(p,i,"Generator"),b(p,s,function(){return this}),b(p,"toString",function(){return"[object Generator]"}),(g=function(){return{w:o,m:u}})()}function b(t,e,a,s){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}b=function(t,e,a,s){function o(e,a){b(t,e,function(t){return this._invoke(e,a,t)})}e?i?i(t,e,{value:a,enumerable:!s,configurable:!s,writable:!s}):t[e]=a:(o("next",0),o("throw",1),o("return",2))},b(t,e,a,s)}function _(t,e,a,s,i,o,n){try{var r=t[o](n),l=r.value}catch(t){return void a(t)}r.done?e(l):Promise.resolve(l).then(s,i)}function y(t){return function(){var e=this,a=arguments;return new Promise(function(s,i){var o=t.apply(e,a);function n(t){_(o,s,i,n,r,"next",t)}function r(t){_(o,s,i,n,r,"throw",t)}n(void 0)})}}const C={components:{VueCropper:s.default,Autocomplete:i.default,VueTribute:o.default,MediaEditorPreview:n.MediaEditorPreview,MediaEditorFilterMenu:n.MediaEditorFilterMenu},data:function(){return{config:window.App.config,pageLoading:!1,profile:window._sharedData.curUser,composeText:"",composeTextLength:0,nsfw:!1,ids:[],media:[],files:[],carouselCursor:0,uploading:!1,uploadProgress:100,mode:"photo",modes:["photo","video","plain"],page:1,composeState:"publish",visibility:"public",visibilityTag:"Public",place:!1,commentsDisabled:!1,optimizeMedia:!0,mediaCropped:!1,pageTitle:"",cropper:{aspectRatio:1,viewMode:1,zoomable:!0,zoom:0},namedPages:["cropPhoto","tagPeople","addLocation","advancedSettings","visibility","altText","addToCollection","schedulePost","mediaMetadata","addToStory","editMedia","cameraRoll","tagPeopleHelp","textOptions","licensePicker"],cameraRollMedia:[],taggedUsernames:[],taggedPeopleSearch:null,textMode:!1,tributeSettings:{noMatchTemplate:function(){return null},collection:[{trigger:"@",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/mention",{params:{q:t}}).then(function(t){e(t.data)}).catch(function(t){})}},{trigger:"#",menuShowMinLength:2,values:function(t,e){axios.get("/api/compose/v0/search/hashtag",{params:{q:t}}).then(function(t){e(t.data)}).catch(function(t){})}}]},availableLicenses:[{id:1,name:"All Rights Reserved",title:""},{id:5,name:"Public Domain Work",title:""},{id:6,name:"Public Domain Dedication (CC0)",title:"CC0"},{id:11,name:"Attribution",title:"CC BY"},{id:12,name:"Attribution-ShareAlike",title:"CC BY-SA"},{id:13,name:"Attribution-NonCommercial",title:"CC BY-NC"},{id:14,name:"Attribution-NonCommercial-ShareAlike",title:"CC BY-NC-SA"},{id:15,name:"Attribution-NoDerivs",title:"CC BY-ND"},{id:16,name:"Attribution-NonCommercial-NoDerivs",title:"CC BY-NC-ND"}],licenseIndex:0,video:{title:"",description:""},composeSettings:{default_license:null,media_descriptions:!1},licenseId:1,licenseTitle:null,maxAltTextLength:140,pollOptionModel:null,pollOptions:[],pollExpiry:1440,postingPoll:!1,collections:[],collectionsSelected:[],collectionsLoaded:!1,collectionsPage:1,collectionsCanLoadMore:!1,spoilerText:void 0,isPosting:!1}},created:function(){var t=this;try{this.editor=new n.MediaEditor({effects:r.filterEffects,onEdit:function(e,a){var s=a.effect,i=a.intensity,o=a.crop;if(!(e>=t.files.length)){var n=t.files[e];t.$set(n,"editState",{effect:s,intensity:i,crop:o})}},onRenderPreview:function(e,a){if(!(e>=t.files.length)){var s=t.files[e].editState,i=t.media[e];s&&(s.crop||-1!==s.effect)?i.preview_url=a:i.preview_url=i.url}}})}catch(t){}},computed:{spoilerTextLength:function(){return this.spoilerText?this.spoilerText.length:0}},beforeMount:function(){var t=this;axios.get("/api/compose/v0/settings").then(function(e){t.composeSettings=e.data,t.licenseId=t.composeSettings.default_license,t.maxAltTextLength=e.data.max_altext_length,t.licenseId>10&&(t.licenseTitle=t.availableLicenses.filter(function(e){return e.id==t.licenseId}).map(function(t){return t.title})[0]),t.fetchProfile()})},destroyed:function(){this.media.forEach(function(t){URL.revokeObjectURL(t.url),URL.revokeObjectURL(t.preview_url)}),this.files.length=this.media.length=0,this.editor=void 0},methods:{timeAgo:function(t){return App.util.format.timeAgo(t)},formatBytes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+t)return"0 Bytes";var a=e<0?0:e,s=Math.floor(Math.log(t)/Math.log(1024));return"".concat(parseFloat((t/Math.pow(1024,s)).toFixed(a))," ").concat(["Bytes","KB","MB","GB","TB"][s])},defineErrorMessage:function(t){var e;return e=t.response?t.response.data.message?t.response.data.message:"An unexpected error occured.":t.message,swal("Oops, something went wrong!",e,"error")},fetchProfile:function(){var t=this,e={public:"Public",private:"Followers Only",unlisted:"Unlisted"};if(window._sharedData.curUser.id){if(this.profile=window._sharedData.curUser,this.composeSettings&&this.composeSettings.hasOwnProperty("default_scope")&&this.composeSettings.default_scope){var a=this.composeSettings.default_scope;this.visibility=a,this.visibilityTag=e[a]}1==this.profile.locked&&(this.visibility="private",this.visibilityTag="Followers Only")}else axios.get("/api/pixelfed/v1/accounts/verify_credentials").then(function(a){if(window._sharedData.currentUser=a.data,t.profile=a.data,t.composeSettings&&t.composeSettings.hasOwnProperty("default_scope")&&t.composeSettings.default_scope){var s=t.composeSettings.default_scope;t.visibility=s,t.visibilityTag=e[s]}1==t.profile.locked&&(t.visibility="private",t.visibilityTag="Followers Only")}).catch(function(t){})},addMedia:function(t){var e=l(t.target);e.attr("disabled",""),l('.file-input[name="media"]').trigger("click"),e.blur(),e.removeAttr("disabled")},addText:function(t){this.pageTitle="New Text Post",this.page="addText",this.textMode=!0,this.mode="text"},onInputFile:function(t){var e=this,a=t.target,s=Array.from(a.files);a.value=null;var i=this;s.forEach(function(t,a){if(i.media&&i.media.length>=i.config.uploader.album_limit)return swal("Error","You can only upload "+i.config.uploader.album_limit+" photos per album","error"),void(i.page=2);var s=i.config.uploader.media_types.split(",");if(-1==l.inArray(t.type,s))return swal("Invalid File Type","The file you are trying to add is not a valid mime type. Please upload a "+i.config.uploader.media_types+" only.","error"),void(i.page=2);var o=t.type.replace(/\/.*/,""),n=URL.createObjectURL(t),r="image"===o?URL.createObjectURL(t):"/storage/no-preview.png";e.files.push({file:t,editState:void 0}),e.media.push({url:n,preview_url:r,type:o})}),this.media.length?this.page=3:this.page=2},mediaUpload:function(){var t=this;return y(g().m(function e(){var a;return g().w(function(e){for(;;)switch(e.n){case 0:return t.uploading=!0,a=t.files.map(function(){var e=y(g().m(function e(a,s){var i,o,n,r,l,c,d;return g().w(function(e){for(;;)switch(e.n){case 0:if(i=a.file,"image"!==(o=t.media[s]).type||!a.editState){e.n=3;break}if(n=a.editState,r=a.cropperBlob,!t.editor||-1===n.effect&&!n.crop){e.n=2;break}return e.n=1,t.editor.toBlob(s);case 1:i=e.v,e.n=3;break;case 2:r&&(i=r);case 3:return(l=new FormData).append("file",i),c={onUploadProgress:function(t){var e=Math.round(100*t.loaded/t.total);d.uploadProgress=e}},d=t,e.n=4,axios.post("/api/compose/v0/media/upload",l,c).then(function(t){d.uploadProgress=100,d.ids.push(t.data.id),Object.assign(o,t.data),setTimeout(function(){d.page=3},300)}).catch(function(t){switch(t.response.status){case 403:swal("Account size limit reached","Contact your admin for assistance.","error"),d.page=2;break;case 413:swal("File is too large","The file you uploaded has the size of "+d.formatBytes(i.size)+". Unfortunately, only images up to "+d.formatBytes(1024*d.config.uploader.max_photo_size)+" are supported.\nPlease resize the file and try again.","error"),d.page=2;break;case 451:swal("Banned Content","This content has been banned and cannot be uploaded.","error"),d.page=2;break;case 429:swal("Limit Reached","You can upload up to 250 photos or videos per day and you've reached that limit. Please try again later.","error"),d.page=2;break;case 500:swal("Error",t.response.data.message,"error"),d.page=2;break;default:swal("Oops, something went wrong!","An unexpected error occurred.","error"),d.page=2}throw t});case 4:return e.a(2)}},e)}));return function(t,a){return e.apply(this,arguments)}}()),e.n=1,Promise.all(a).finally(function(){t.uploadProgress=0,t.uploading=!1});case 1:return e.a(2)}},e)}))()},deleteMedia:function(){var t=this;return y(g().m(function e(){var a,s;return g().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!=window.confirm("Are you sure you want to delete this media?")){e.n=1;break}return e.a(2);case 1:if(!(s=t.media[t.carouselCursor].id)){e.n=5;break}return e.p=2,e.n=3,axios.delete("/api/compose/v0/media/delete",{params:{id:s}});case 3:e.n=5;break;case 4:return e.p=4,e.v,swal("Whoops!","An error occured when attempting to delete this, please try again","error"),e.a(2);case 5:t.ids.splice(t.carouselCursor,1),t.media.splice(t.carouselCursor,1),URL.revokeObjectURL(null===(a=t.files[t.carouselCursor])||void 0===a?void 0:a.url),t.files.splice(t.carouselCursor,1),0==t.media.length?(t.ids=[],t.media=[],t.carouselCursor=0):t.carouselCursor=0;case 6:return e.a(2)}},e,null,[[2,4]])}))()},mediaReorder:function(t){var e=this.carouselCursor,a=e+("prev"===t?-1:1);if(!(a<0||a>=this.media.length)){var s=f(this.files.splice(e,1),1)[0],i=f(this.media.splice(e,1),1)[0],o=f(this.ids.splice(e,1),1)[0];this.files.splice(a,0,s),this.media.splice(a,0,i),this.ids.splice(a,0,o),this.carouselCursor=a}},compose:function(){var t=this;return y(g().m(function e(){var a,s,i;return g().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a=t.composeState,0!=t.files.length){e.n=1;break}return e.a(2);case 1:if(!(t.composeText.length>t.config.uploader.max_caption_length)){e.n=2;break}return swal("Error","Caption is too long","error"),e.a(2);case 2:i=a,e.n="publish"===i?3:"delete"===i?10:11;break;case 3:return t.isPosting=!0,e.p=4,e.n=5,t.mediaUpload().finally(function(){return t.isPosting=!1});case 5:e.n=7;break;case 6:return e.p=6,e.v,t.isPosting=!1,e.a(2);case 7:if(!0!==t.composeSettings.media_descriptions){e.n=8;break}if(!t.media.filter(function(t){return!t.hasOwnProperty("alt")||t.alt.length<2}).length){e.n=8;break}return swal("Missing media descriptions","You have enabled mandatory media descriptions. Please add media descriptions under Advanced settings to proceed. For more information, please see the media settings page.","warning"),t.isPosting=!1,e.a(2);case 8:if(0!=t.media.length){e.n=9;break}return swal("Whoops!","You need to add media before you can save this!","warning"),e.a(2);case 9:return"Add optional caption..."==t.composeText&&(t.composeText=""),s={media:t.media,caption:t.composeText,visibility:t.visibility,cw:t.nsfw,comments_disabled:t.commentsDisabled,place:t.place,tagged:t.taggedUsernames,optimize_media:t.optimizeMedia,license:t.licenseId,video:t.video,spoiler_text:t.spoilerText},t.collectionsSelected.length&&(s.collections=t.collectionsSelected.map(function(e){return t.collections[e].id})),axios.post("/api/compose/v0/publish",s).then(function(t){"/i/web/compose"===location.pathname&&t.data&&t.data.length?location.href="/i/web/post/"+t.data.split("/").slice(-1)[0]:location.href=t.data}).catch(function(e){if(400===e.response.status)"Must contain a single photo or video or multiple photos."==e.response.data.error?swal("Wrong types of mixed media","The album must contain a single photo or video or multiple photos.","error"):t.defineErrorMessage(e);else t.defineErrorMessage(e)}).finally(function(){t.isPosting=!1}),e.a(2);case 10:return t.ids=[],t.media=[],t.carouselCursor=0,t.composeText="",t.composeTextLength=0,l("#composeModal").modal("hide"),e.a(2);case 11:return e.a(2)}},e,null,[[4,6]])}))()},composeTextPost:function(){var t=this.composeState;if(this.composeText.length>this.config.uploader.max_caption_length)swal("Error","Caption is too long","error");else switch(t){case"publish":var e={caption:this.composeText,visibility:this.visibility,cw:this.nsfw,comments_disabled:this.commentsDisabled,place:this.place,tagged:this.taggedUsernames};return void axios.post("/api/compose/v0/publish/text",e).then(function(t){var e=t.data;window.location.href=e}).catch(function(t){var e=t.response.data.message?t.response.data.message:"An unexpected error occured.";swal("Oops, something went wrong!",e,"error")});case"delete":return this.ids=[],this.media=[],this.carouselCursor=0,this.composeText="",this.composeTextLength=0,void l("#composeModal").modal("hide")}},closeModal:function(){l("#composeModal").modal("hide"),this.$emit("close")},goBack:function(){switch(this.pageTitle="",this.mode){case"photo":switch(this.page){case"addText":case"video-2":this.page=1;break;case"textOptions":this.page="addText";break;case"cropPhoto":case"editMedia":this.page=2;break;case"tagPeopleHelp":this.showTagCard();break;case"licensePicker":this.page=3;break;default:-1!=this.namedPages.indexOf(this.page)?this.page=3:this.page--}break;case"video":this.page,this.page="video-2";break;default:switch(this.page){case"addText":case"video-2":this.page=1;break;case"textOptions":this.page="addText";break;case"cropPhoto":case"editMedia":this.page=2;break;case"tagPeopleHelp":this.showTagCard();break;case"licensePicker":this.page=3;break;default:-1!=this.namedPages.indexOf(this.page)?this.page="text"==this.mode?"addText":3:"text"==this.mode||this.page--}}},nextPage:function(){var t=this;switch(this.pageTitle="",this.page){case 1:this.page=2;break;case"cropPhoto":var e=this.files[this.carouselCursor],a=this.$refs.cropper,s=u(u({},e.editState),{},{crop:a.getData()});this.editor?this.editor.setEditState(this.carouselCursor,s):a.getCroppedCanvas().toBlob(function(a){var s=t.media[t.carouselCursor].media;e.croppedBlob=a,URL.revokeObjectURL(s.preview_url),s.preview_url=URL.createObjectURL(a)}),this.page=2;break;case 2:case 3:this.page++}},rotate:function(){this.$refs.cropper.rotate(90)},changeAspect:function(t){this.cropper.aspectRatio=t,this.$refs.cropper.setAspectRatio(t)},showTagCard:function(){this.pageTitle="Tag People",this.page="tagPeople"},showTagHelpCard:function(){this.pageTitle="About Tag People",this.page="tagPeopleHelp"},showLocationCard:function(){this.pageTitle="Add Location",this.page="addLocation"},showAdvancedSettingsCard:function(){this.pageTitle="Advanced Settings",this.page="advancedSettings"},locationSearch:function(t){if(t.length<1)return[];return axios.get("/api/compose/v0/search/location",{params:{q:t}}).then(function(t){return t.data})},getResultValue:function(t){return t.name+", "+t.country},onSubmitLocation:function(t){switch(this.place=t,this.mode){case"photo":this.pageTitle="",this.page=3;break;case"video":this.pageTitle="Edit Video Details",this.page="video-2";break;case"text":this.pageTitle="New Text Post",this.page="addText"}},showVisibilityCard:function(){this.pageTitle="Post Visibility",this.page="visibility"},showAddToStoryCard:function(){this.pageTitle="Add to Story",this.page="addToStory"},showCropPhotoCard:function(){this.pageTitle="Edit Photo",this.page="cropPhoto"},toggleVisibility:function(t){switch(this.visibility=t,this.visibilityTag={public:"Public",private:"Followers Only",unlisted:"Unlisted"}[t],this.mode){case"photo":this.pageTitle="",this.page=3;break;case"video":this.pageTitle="Edit Video Details",this.page="video-2";break;case"text":this.pageTitle="New Text Post",this.page="addText"}},showMediaDescriptionsCard:function(){this.pageTitle="Media Descriptions",this.page="altText"},showAddToCollectionsCard:function(){this.pageTitle="Add to Collection",this.page="addToCollection"},showSchedulePostCard:function(){this.pageTitle="Schedule Post",this.page="schedulePost"},showEditMediaCard:function(){this.pageTitle="Edit Media",this.page="editMedia"},fetchCameraRollDrafts:function(){var t=this;axios.get("/api/pixelfed/local/drafts").then(function(e){t.cameraRollMedia=e.data})},tagSearch:function(t){if(t.length<1)return[];var e=this;return axios.get("/api/compose/v0/search/tag",{params:{q:t}}).then(function(t){if(t.data.length)return t.data.filter(function(t){return 0==e.taggedUsernames.filter(function(e){return e.id==t.id}).length})})},getTagResultValue:function(t){return t.name},onTagSubmitLocation:function(t){this.taggedUsernames.filter(function(e){return e.id==t.id}).length||(this.taggedUsernames.push(t),this.$refs.autocomplete.value="")},untagUsername:function(t){this.taggedUsernames.splice(t,1)},showTextOptions:function(){this.page="textOptions",this.pageTitle="Text Post Options"},showLicenseCard:function(){this.pageTitle="Select a License",this.page="licensePicker"},toggleLicense:function(t){var e=this;switch(this.licenseId=t.id,this.licenseId>10?this.licenseTitle=this.availableLicenses.filter(function(t){return t.id==e.licenseId}).map(function(t){return t.title})[0]:this.licenseTitle=null,this.mode){case"photo":this.pageTitle="",this.page=3;break;case"video":this.pageTitle="Edit Video Details",this.page="video-2";break;case"text":this.pageTitle="New Text Post",this.page="addText"}},newPoll:function(){this.page="poll"},savePollOption:function(){-1==this.pollOptions.indexOf(this.pollOptionModel)?(this.pollOptions.push(this.pollOptionModel),this.pollOptionModel=null):this.pollOptionModel=null},deletePollOption:function(t){this.pollOptions.splice(t,1)},postNewPoll:function(){var t=this;this.postingPoll=!0,axios.post("/api/compose/v0/poll",{caption:this.composeText,cw:!1,visibility:this.visibility,comments_disabled:!1,expiry:this.pollExpiry,pollOptions:this.pollOptions}).then(function(e){if(!e.data.hasOwnProperty("url"))return swal("Oops!","An error occured while attempting to create this poll. Please refresh the page and try again.","error"),void(t.postingPoll=!1);window.location.href=e.data.url}).catch(function(e){if(e.response.data.hasOwnProperty("error")&&"Duplicate detected."==e.response.data.error)return t.postingPoll=!1,void swal("Oops!","The poll you are trying to create is similar to an existing poll you created. Please make the poll question (caption) unique.","error");t.postingPoll=!1,swal("Oops!","An error occured while attempting to create this poll. Please refresh the page and try again.","error")})},filesize:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return filesize(1024*t,{round:0})}),showCollectionCard:function(){this.pageTitle="Add to Collection(s)",this.page="addToCollection",this.collectionsLoaded||this.fetchCollections()},fetchCollections:function(){var t=this;axios.get("/api/local/profile/collections/".concat(this.profile.id)).then(function(e){t.collections=e.data,t.collectionsLoaded=!0,t.collectionsCanLoadMore=9==e.data.length,t.collectionsPage++})},toggleCollectionItem:function(t){if(this.collectionsSelected.includes(t))this.collectionsSelected=this.collectionsSelected.filter(function(e){return e!=t});else{if(7==this.collectionsSelected.length)return void swal("Oops!","You can only share to 5 collections.","info");this.collectionsSelected.push(t)}},clearSelectedCollections:function(){this.collectionsSelected=[],this.pageTitle="Compose",this.page=3},loadMoreCollections:function(){var t=this;this.collectionsCanLoadMore=!1,axios.get("/api/local/profile/collections/".concat(this.profile.id),{params:{page:this.collectionsPage}}).then(function(e){var a,s=t.collections.map(function(t){return t.id}),i=e.data.filter(function(t){return!s.includes(t.id)});i&&i.length&&((a=t.collections).push.apply(a,d(i)),t.collectionsPage++,t.collectionsCanLoadMore=!0)})}},watch:{files:function(t){this.editor.setSources(t.map(function(t){return t.file}))}}}},28772:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var s=a(22699),i=a(75223),o={};for(const t in i)"default"!==t&&(o[t]=()=>i[t]);a.d(e,o);a(43550);const n=(0,a(14486).default)(i.default,s.render,s.staticRenderFns,!1,null,null,null).exports},30023:(t,e,a)=>{a.r(e);var s=a(94586),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i)},30916:(t,e,a)=>{a.r(e),a.d(e,{render:()=>s,staticRenderFns:()=>i});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar-component sticky-top d-none d-md-block"},[e("div",{staticClass:"card shadow-sm mb-3",staticStyle:{"border-radius":"15px"}},[e("div",{staticClass:"card-body p-2"},[e("div",{staticClass:"media user-card user-select-none"},[e("div",{staticStyle:{position:"relative"}},[e("img",{staticClass:"avatar shadow cursor-pointer",attrs:{src:t.user.avatar,draggable:"false",onerror:"this.onerror=null;this.src='/storage/avatars/default.png?v=0';"},on:{click:function(e){return t.gotoMyProfile()}}}),t._v(" "),e("button",{staticClass:"btn btn-light btn-sm avatar-update-btn",on:{click:function(e){return t.updateAvatar()}}},[e("span",{staticClass:"avatar-update-btn-icon"})])]),t._v(" "),e("div",{staticClass:"media-body"},[e("p",{staticClass:"display-name",domProps:{innerHTML:t._s(t.getDisplayName())}}),t._v(" "),e("p",{staticClass:"username primary"},[t._v("@"+t._s(t.user.username))]),t._v(" "),e("p",{staticClass:"stats"},[e("span",{staticClass:"stats-following"},[e("span",{staticClass:"following-count"},[t._v(t._s(t.formatCount(t.user.following_count)))]),t._v(" Following\n\t\t\t\t\t\t\t")]),t._v(" "),e("span",{staticClass:"stats-followers"},[e("span",{staticClass:"followers-count"},[t._v(t._s(t.formatCount(t.user.followers_count)))]),t._v(" Followers\n\t\t\t\t\t\t\t")])])])])])]),t._v(" "),e("div",{staticClass:"btn-group btn-group-lg btn-block mb-4"},[e("router-link",{staticClass:"btn btn-primary btn-block font-weight-bold",attrs:{to:"/i/web/compose"}},[e("i",{staticClass:"fal fa-arrow-circle-up mr-1"}),t._v(" "+t._s(t.$t("navmenu.compose"))+" Post\n\t\t\t")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right"},[e("a",{staticClass:"dropdown-item font-weight-bold",attrs:{href:"/i/collections/create"}},[t._v("Create Collection")]),t._v(" "),t.hasStories?e("a",{staticClass:"dropdown-item font-weight-bold",attrs:{href:"/i/stories/new"}},[t._v(t._s(t.$t("navmenu.createStory")))]):t._e(),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item font-weight-bold",attrs:{href:"/settings/home"}},[t._v("Account Settings")])])],1),t._v(" "),e("div",{staticClass:"sidebar-sticky shadow-sm"},[e("ul",{staticClass:"nav flex-column"},[e("li",{staticClass:"nav-item"},[e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("a",{staticClass:"nav-link text-center",class:["/i/web"==t.$route.path?"router-link-exact-active active":""],attrs:{href:"/i/web"},on:{click:function(e){return e.preventDefault(),t.goToFeed("home")}}},[t._m(1),t._v(" "),e("div",{staticClass:"small"},[t._v(t._s(t.$t("navmenu.homeFeed")))])]),t._v(" "),t.hasLocalTimeline?e("a",{staticClass:"nav-link text-center",class:["/i/web/timeline/local"==t.$route.path?"router-link-exact-active active":""],attrs:{href:"/i/web/timeline/local"},on:{click:function(e){return e.preventDefault(),t.goToFeed("local")}}},[t._m(2),t._v(" "),e("div",{staticClass:"small"},[t._v(t._s(t.$t("navmenu.localFeed")))])]):t._e(),t._v(" "),t.hasNetworkTimeline?e("a",{staticClass:"nav-link text-center",class:["/i/web/timeline/global"==t.$route.path?"router-link-exact-active active":""],attrs:{href:"/i/web/timeline/global"},on:{click:function(e){return e.preventDefault(),t.goToFeed("global")}}},[t._m(3),t._v(" "),e("div",{staticClass:"small"},[t._v(t._s(t.$t("navmenu.globalFeed")))])]):t._e()]),t._v(" "),e("hr",{staticClass:"mb-0",staticStyle:{"margin-top":"-5px",opacity:"0.4"}})]),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/i/web/discover"}},[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-compass"})]),t._v("\n                        "+t._s(t.$t("navmenu.discover"))+"\n                    ")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link d-flex justify-content-between align-items-center",attrs:{to:"/i/web/direct"}},[e("span",[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-envelope"})]),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("navmenu.directMessages"))+"\n\t\t\t\t\t\t")])])],1),t._v(" "),t.hasGroups?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/groups/feed"}},[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-layer-group"})]),t._v("\n                        "+t._s(t.$t("navmenu.groups"))+"\n                    ")])],1):t._e(),t._v(" "),t.hasLiveStreams?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link d-flex justify-content-between align-items-center",attrs:{to:"/i/web/livestreams"}},[e("span",[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-record-vinyl"})]),t._v("\n\t\t\t\t\t\t\tLivestreams\n\t\t\t\t\t\t")])])],1):t._e(),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link d-flex justify-content-between align-items-center",attrs:{to:"/i/web/notifications"}},[e("span",[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-bell"})]),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("navmenu.notifications"))+"\n\t\t\t\t\t\t")])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("hr",{staticClass:"mt-n1",staticStyle:{opacity:"0.4","margin-bottom":"0"}}),t._v(" "),e("router-link",{staticClass:"nav-link",attrs:{to:"/i/web/profile/"+t.user.id}},[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-user"})]),t._v("\n                        "+t._s(t.$t("navmenu.profile"))+"\n                    ")])],1),t._v(" "),t.user.is_admin?e("li",{staticClass:"nav-item"},[e("hr",{staticClass:"mt-n1",staticStyle:{opacity:"0.4","margin-bottom":"0"}}),t._v(" "),e("a",{staticClass:"nav-link",attrs:{href:"/i/admin/dashboard"}},[t._m(4),t._v("\n                        "+t._s(t.$t("navmenu.admin"))+"\n                    ")])]):t._e(),t._v(" "),e("li",{staticClass:"nav-item"},[e("hr",{staticClass:"mt-n1",staticStyle:{opacity:"0.4","margin-bottom":"0"}}),t._v(" "),e("a",{staticClass:"nav-link",attrs:{href:"/?force_old_ui=1"}},[t._m(5),t._v("\n                        "+t._s(t.$t("navmenu.backToPreviousDesign"))+"\n                    ")])])])]),t._v(" "),e("div",{staticClass:"sidebar-attribution pr-3 d-flex flex-wrap justify-content-between align-items-center",staticStyle:{gap:"5px"}},[e("router-link",{attrs:{to:"/i/web/language"}},[e("i",{staticClass:"fal fa-language fa-2x",attrs:{alt:"Select a language"}})]),t._v(" "),e("a",{staticClass:"font-weight-bold",attrs:{href:"/site/help"}},[t._v(t._s(t.$t("navmenu.help")))]),t._v(" "),e("a",{staticClass:"font-weight-bold",attrs:{href:"/site/privacy"}},[t._v(t._s(t.$t("navmenu.privacy")))]),t._v(" "),e("a",{staticClass:"font-weight-bold",attrs:{href:"/site/terms"}},[t._v(t._s(t.$t("navmenu.terms")))]),t._v(" "),t.showLegalNoticeLink?e("a",{staticClass:"font-weight-bold",attrs:{href:"/site/legal-notice"}},[t._v(t._s(t.$t("navmenu.legalNotice")))]):t._e(),t._v(" "),e("a",{staticClass:"font-weight-bold powered-by",attrs:{href:"https://pixelfed.org"}},[t._v("Powered by Pixelfed")])],1),t._v(" "),e("update-avatar",{ref:"avatarUpdate",attrs:{user:t.user}})],1)},i=[function(){var t=this._self._c;return t("button",{staticClass:"btn btn-outline-primary dropdown-toggle dropdown-toggle-split",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[t("span",{staticClass:"sr-only"},[this._v("Toggle Dropdown")])])},function(){var t=this._self._c;return t("div",{staticClass:"icon text-lighter"},[t("i",{staticClass:"far fa-home fa-lg"})])},function(){var t=this._self._c;return t("div",{staticClass:"icon text-lighter"},[t("i",{staticClass:"fas fa-stream fa-lg"})])},function(){var t=this._self._c;return t("div",{staticClass:"icon text-lighter"},[t("i",{staticClass:"far fa-globe fa-lg"})])},function(){var t=this._self._c;return t("span",{staticClass:"icon text-lighter"},[t("i",{staticClass:"far fa-tools"})])},function(){var t=this._self._c;return t("span",{staticClass:"icon text-lighter"},[t("i",{staticClass:"fas fa-chevron-left"})])}]},31009:(t,e,a)=>{a.r(e),a.d(e,{default:()=>r});var s=a(85072),i=a.n(s),o=a(66318),n={insert:"head",singleton:!1};i()(o.default,n);const r=o.default.locals||{}},32463:(t,e,a)=>{a.r(e),a.d(e,{render:()=>s,staticRenderFns:()=>i});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"web-wrapper"},[t.isLoaded?e("div",{staticClass:"container-fluid mt-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 d-md-block"},[e("sidebar",{attrs:{user:t.profile}})],1),t._v(" "),e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-8 offset-md-1"},[e("compose-modal",{on:{close:t.closeModal}})],1)])])]),t._v(" "),e("drawer")],1):t._e()])},i=[]},39005:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(76798),i=a.n(s)()(function(t){return t[1]});i.push([t.id,".app-drawer-component .nav-link{padding:.5rem .1rem}.app-drawer-component .nav-link.active{background-color:transparent}.app-drawer-component .nav-link.router-link-exact-active{background-color:transparent;color:var(--primary)!important}.app-drawer-component .nav-link p{margin-bottom:0}.app-drawer-component .nav-link-label{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:10px;font-weight:700;margin-top:0;opacity:.6;text-transform:uppercase}",""]);const o=i},42615:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(76798),i=a.n(s)()(function(t){return t[1]});i.push([t.id,".compose-modal-component .media-drawer-filters{flex-wrap:unset;overflow-x:auto}.compose-modal-component .media-drawer-filters .nav-link{min-width:100px;padding-bottom:1rem;padding-top:1rem}.compose-modal-component .media-drawer-filters .active{color:#fff;font-weight:700}@media (hover:none) and (pointer:coarse){.compose-modal-component .media-drawer-filters::-webkit-scrollbar{display:none}}.compose-modal-component .no-focus{border-color:none;box-shadow:none;outline:0}.compose-modal-component a.list-group-item{text-decoration:none}.compose-modal-component a.list-group-item:hover{background-color:#f8f9fa;text-decoration:none}.compose-modal-component .compose-action:hover{background-color:#f8f9fa;cursor:pointer}.compose-modal-component .collections-list-group{max-height:500px;overflow-y:auto}.compose-modal-component .collections-list-group .list-group-item.active{background-color:#dbeafe!important;border-color:#60a5fa!important;color:#212529}.compose-modal-component .media-editor{--height-menu-row:5rem;--gap-preview:0rem;--height-menu-row-scroll:10rem;--color-bg-button:transparent;--color-bg-preview:transparent;--color-bg-button-hover:var(--light-gray);--color-bg-acc:var(--card-bg);--color-fnt-default:var(--body-color);--color-fnt-acc:var(--text-lighter);--color-scrollbar-thumb:var(--light-gray);--color-scrollbar-both:var(--light-gray) transparent;--color-slider-thumb:var(--text-lighter);--color-slider-progress:var(--light-gray);--color-slider-track:var(--light);--color-crop-outline:var(--light-gray);--color-crop-dashed:#ffffffde;--color-crop-overlay:#00000082;background-color:transparent;border:none!important;box-shadow:none!important;font-size:12px}",""]);const o=i},43550:(t,e,a)=>{a.r(e);var s=a(31009),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i)},46537:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var s=a(22358),i=a(6422),o={};for(const t in i)"default"!==t&&(o[t]=()=>i[t]);a.d(e,o);const n=(0,a(14486).default)(i.default,s.render,s.staticRenderFns,!1,null,null,null).exports},50371:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});const s={data:function(){return{user:window._sharedData.user}}}},50427:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(28320),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i);const o=s.default},55597:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(84154),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i);const o=s.default},66318:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(76798),i=a.n(s)()(function(t){return t[1]});i.push([t.id,'.sidebar-component .sidebar-sticky{background-color:var(--card-bg);border-radius:15px}.sidebar-component.sticky-top{top:90px}.sidebar-component .nav{overflow:auto}.sidebar-component .nav-item .nav-link{color:#9ca3af;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-weight:500;margin-bottom:5px;padding-left:14px}.sidebar-component .nav-item .nav-link:hover{background-color:var(--light-hover-bg)}.sidebar-component .nav-item .nav-link .icon{display:inline-block;text-align:center;width:40px}.sidebar-component .nav-item .router-link-exact-active{color:var(--primary);font-weight:700;padding-left:14px}.sidebar-component .nav-item .router-link-exact-active:not(.text-center){border-left:4px solid var(--primary);padding-left:10px}.sidebar-component .nav-item .router-link-exact-active .icon{color:var(--primary)!important}.sidebar-component .nav-item:first-child .nav-link .small{font-weight:700}.sidebar-component .nav-item:first-child .nav-link:first-child{border-top-left-radius:15px}.sidebar-component .nav-item:first-child .nav-link:last-child{border-top-right-radius:15px}.sidebar-component .nav-item:is(:last-child) .nav-link{border-bottom-left-radius:15px;border-bottom-right-radius:15px;margin-bottom:0}.sidebar-component .sidebar-heading{font-size:.75rem;text-transform:uppercase}.sidebar-component .user-card{align-items:center}.sidebar-component .user-card .avatar{border:1px solid var(--border-color);border-radius:15px;height:75px;margin-right:.8rem;width:75px}.sidebar-component .user-card .avatar-update-btn{background:hsla(0,0%,100%,.9);border:1px solid #dee2e6!important;border-radius:50rem;bottom:0;height:20px;padding:0;position:absolute;right:12px;width:20px}.sidebar-component .user-card .avatar-update-btn-icon{-webkit-font-smoothing:antialiased;display:inline-block;font-family:Font Awesome\\ 5 Free;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-rendering:auto}.sidebar-component .user-card .avatar-update-btn-icon:before{content:"\\f013"}.sidebar-component .user-card .username{font-size:13px;font-weight:600;margin-bottom:0}.sidebar-component .user-card .display-name{color:var(--body-color);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;font-weight:800!important;line-height:.8;margin-bottom:0;-webkit-user-select:all;-moz-user-select:all;user-select:all;word-break:break-all}.sidebar-component .user-card .stats{font-size:12px;margin-bottom:0;margin-top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sidebar-component .user-card .stats .stats-following{margin-right:.8rem}.sidebar-component .user-card .stats .followers-count,.sidebar-component .user-card .stats .following-count{font-weight:800}.sidebar-component .btn-primary{background-color:var(--primary)}.sidebar-component .btn-primary.router-link-exact-active{cursor:unset;opacity:.5;pointer-events:none}.sidebar-component .sidebar-sitelinks{display:flex;justify-content:space-between;margin-top:1rem;padding:0 2rem}.sidebar-component .sidebar-sitelinks a{color:#b8c2cc;font-size:12px}.sidebar-component .sidebar-sitelinks .active{color:#212529;font-weight:600}.sidebar-component .sidebar-attribution{color:#b8c2cc;font-size:10px;margin-top:.5rem;padding-left:2rem}.sidebar-component .sidebar-attribution a{color:#b8c2cc!important}.sidebar-component .sidebar-attribution a.powered-by{opacity:.5}',""]);const o=i},66517:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var s=a(5787),i=a(28772),o=a(19324);const n={components:{drawer:s.default,sidebar:i.default,"compose-modal":o.default},data:function(){return{isLoaded:!1,profile:void 0}},mounted:function(){this.profile=window._sharedData.user,this.isLoaded=!0},methods:{closeModal:function(){this.$router.push("/i/web")}}}},67153:(t,e,a)=>{a.r(e),a.d(e,{render:()=>s,staticRenderFns:()=>i});var s=function(){var t=this,e=t._self._c;return e("b-modal",{ref:"avatarUpdateModal",attrs:{centered:"","hide-footer":"","header-class":"py-2","body-class":"p-0","title-class":"w-100 text-center pl-4 font-weight-bold","title-tag":"p",title:"Upload Avatar"}},[e("input",{ref:"avatarUpdateRef",staticClass:"d-none",attrs:{type:"file",accept:"image/jpg,image/png"},on:{change:function(e){return t.handleAvatarUpdate()}}}),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-center"},[0===t.avatarUpdateIndex?e("div",{staticClass:"py-5 user-select-none cursor-pointer",on:{drop:t.handleDrop,dragover:t.handleDrop,click:function(e){return t.avatarUpdateStep(0)}}},[e("p",{staticClass:"text-center primary"},[e("i",{staticClass:"fal fa-cloud-upload fa-3x"})]),t._v(" "),e("p",{staticClass:"text-center lead"},[t._v("Drag photo here or click here")]),t._v(" "),e("p",{staticClass:"text-center small text-muted mb-0"},[t._v("Must be a "),e("strong",[t._v("png")]),t._v(" or "),e("strong",[t._v("jpg")]),t._v(" image up to 2MB")])]):1===t.avatarUpdateIndex?e("div",{staticClass:"w-100 p-5"},[e("div",{staticClass:"d-md-flex justify-content-between align-items-center"},[e("div",{staticClass:"text-center mb-4"},[e("p",{staticClass:"small font-weight-bold",staticStyle:{opacity:"0.7"}},[t._v("Current")]),t._v(" "),e("img",{staticClass:"shadow",staticStyle:{width:"150px",height:"150px","object-fit":"cover","border-radius":"18px",opacity:"0.7"},attrs:{src:t.user.avatar}})]),t._v(" "),e("div",{staticClass:"text-center mb-4"},[e("p",{staticClass:"font-weight-bold"},[t._v("New")]),t._v(" "),e("img",{staticClass:"shadow",staticStyle:{width:"220px",height:"220px","object-fit":"cover","border-radius":"18px"},attrs:{src:t.avatarUpdatePreview}})])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"d-flex justify-content-between"},[e("button",{staticClass:"btn btn-light font-weight-bold btn-block mr-3",on:{click:function(e){return t.avatarUpdateClear()}}},[t._v("Clear")]),t._v(" "),e("button",{staticClass:"btn btn-primary primary font-weight-bold btn-block mt-0",on:{click:function(e){return t.confirmUpload()}}},[t._v("Upload")])])]):t._e()])])},i=[]},67794:(t,e,a)=>{a.r(e),a.d(e,{filterEffects:()=>s});var s=[{name:"1984",ops:[{type:"sepia",intensity:.5},{type:"hue_rotate",angle:-30},{type:"adjust_color",brightness:0,contrast:0,saturation:.4}]},{name:"Azen",ops:[{type:"sepia",intensity:.2},{type:"adjust_color",brightness:.15,contrast:0,saturation:.4}]},{name:"Astairo",ops:[{type:"sepia",intensity:.35},{type:"adjust_color",brightness:.2,contrast:.1,saturation:.3}]},{name:"Grasbee",ops:[{type:"sepia",intensity:.5},{type:"adjust_color",brightness:0,contrast:.2,saturation:.8}]},{name:"Bookrun",ops:[{type:"sepia",intensity:.4},{type:"adjust_color",brightness:.1,contrast:.25,saturation:-.1},{type:"hue_rotate",angle:-2}]},{name:"Borough",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:.25,contrast:.25,saturation:0},{type:"hue_rotate",angle:5}]},{name:"Farms",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:.25,contrast:.25,saturation:.35},{type:"hue_rotate",angle:-5}]},{name:"Hairsadone",ops:[{type:"sepia",intensity:.15},{type:"adjust_color",brightness:.25,contrast:.25,saturation:0},{type:"hue_rotate",angle:5}]},{name:"Cleana",ops:[{type:"sepia",intensity:.5},{type:"adjust_color",brightness:.25,contrast:.15,saturation:-.1},{type:"hue_rotate",angle:-2}]},{name:"Catpatch",ops:[{type:"sepia",intensity:.35},{type:"adjust_color",brightness:0,contrast:.5,saturation:.1}]},{name:"Earlyworm",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:.25,contrast:.15,saturation:-.1},{type:"hue_rotate",angle:-5}]},{name:"Plaid",ops:[{type:"adjust_color",brightness:.1,contrast:.1,saturation:0}]},{name:"Kyo",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:.2,contrast:.15,saturation:.35},{type:"hue_rotate",angle:-5}]},{name:"Yefe",ops:[{type:"sepia",intensity:.4},{type:"adjust_color",brightness:.2,contrast:.5,saturation:.4},{type:"hue_rotate",angle:-10}]},{name:"Godess",ops:[{type:"sepia",intensity:.5},{type:"adjust_color",brightness:.05,contrast:.05,saturation:.35}]},{name:"Yards",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:.2,contrast:.2,saturation:.05},{type:"hue_rotate",angle:-15}]},{name:"Quill",ops:[{type:"adjust_color",brightness:.25,contrast:-.15,saturation:-1}]},{name:"Juno",ops:[{type:"sepia",intensity:.35},{type:"adjust_color",brightness:.15,contrast:.15,saturation:.8}]},{name:"Rankine",ops:[{type:"sepia",intensity:.15},{type:"adjust_color",brightness:.1,contrast:.5,saturation:0},{type:"hue_rotate",angle:-10}]},{name:"Mark",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:.3,contrast:.2,saturation:.25}]},{name:"Chill",ops:[{type:"adjust_color",brightness:0,contrast:.5,saturation:.1}]},{name:"Van",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:.05,contrast:.05,saturation:1}]},{name:"Apache",ops:[{type:"sepia",intensity:.35},{type:"adjust_color",brightness:.05,contrast:.05,saturation:.75}]},{name:"May",ops:[{type:"adjust_color",brightness:.15,contrast:.1,saturation:.1}]},{name:"Ceres",ops:[{type:"adjust_color",brightness:.4,contrast:-.05,saturation:-1},{type:"sepia",intensity:.35}]},{name:"Knoxville",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:-.1,contrast:.5,saturation:0},{type:"hue_rotate",angle:-15}]},{name:"Felicity",ops:[{type:"adjust_color",brightness:.25,contrast:.1,saturation:.1}]},{name:"Sandblast",ops:[{type:"sepia",intensity:.15},{type:"adjust_color",brightness:.2,contrast:0,saturation:0}]},{name:"Daisy",ops:[{type:"sepia",intensity:.75},{type:"adjust_color",brightness:.25,contrast:-.25,saturation:.4}]},{name:"Elevate",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:.2,contrast:.25,saturation:-.1}]},{name:"Nevada",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:-.1,contrast:.5,saturation:0},{type:"hue_rotate",angle:-15}]},{name:"Futura",ops:[{type:"sepia",intensity:.15},{type:"adjust_color",brightness:.25,contrast:.25,saturation:.2}]},{name:"Sleepy",ops:[{type:"sepia",intensity:.15},{type:"adjust_color",brightness:.25,contrast:.25,saturation:.2}]},{name:"Steward",ops:[{type:"sepia",intensity:.35},{type:"adjust_color",brightness:.25,contrast:.1,saturation:.25}]},{name:"Savoy",ops:[{type:"sepia",intensity:.4},{type:"adjust_color",brightness:.2,contrast:-.1,saturation:.4},{type:"hue_rotate",angle:-10}]},{name:"Blaze",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:-.05,contrast:.5,saturation:0},{type:"hue_rotate",angle:-15}]},{name:"Apricot",ops:[{type:"sepia",intensity:.25},{type:"adjust_color",brightness:.1,contrast:.1,saturation:0}]},{name:"Gloming",ops:[{type:"sepia",intensity:.35},{type:"adjust_color",brightness:.15,contrast:.2,saturation:.3}]},{name:"Walter",ops:[{type:"sepia",intensity:.35},{type:"adjust_color",brightness:.25,contrast:-.2,saturation:.4}]},{name:"Poplar",ops:[{type:"adjust_color",brightness:.2,contrast:-.15,saturation:-.95},{type:"sepia",intensity:.5}]},{name:"Xenon",ops:[{type:"sepia",intensity:.45},{type:"adjust_color",brightness:.75,contrast:.25,saturation:.3},{type:"hue_rotate",angle:-5}]}]},69831:(t,e,a)=>{a.r(e),a.d(e,{render:()=>s,staticRenderFns:()=>i});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-drawer-component"},[e("div",{staticClass:"mobile-footer-spacer d-block d-sm-none mt-5"}),t._v(" "),e("div",{staticClass:"mobile-footer d-block d-sm-none fixed-bottom"},[e("div",{staticClass:"card card-body rounded-0 px-0 pt-2 pb-3 box-shadow",staticStyle:{"border-top":"1px solid var(--border-color)"}},[e("ul",{staticClass:"nav nav-pills nav-fill d-flex align-items-middle"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web"}},[e("p",[e("i",{staticClass:"far fa-home fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("Home")])])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web/timeline/local"}},[e("p",[e("i",{staticClass:"far fa-stream fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("Local")])])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web/compose"}},[e("p",[e("i",{staticClass:"far fa-plus-circle fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("New")])])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web/notifications"}},[e("p",[e("i",{staticClass:"far fa-bell fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("Alerts")])])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web/profile/"+t.user.id}},[e("p",[e("i",{staticClass:"far fa-user fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("Profile")])])])],1)])])])])},i=[]},74688:(t,e,a)=>{a.r(e),a.d(e,{default:()=>r});var s=a(85072),i=a.n(s),o=a(39005),n={insert:"head",singleton:!1};i()(o.default,n);const r=o.default.locals||{}},75223:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(79318),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i);const o=s.default},79318:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var s=a(95353),i=a(90414);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function r(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!=o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const l={props:{user:{type:Object,default:function(){return{avatar:"/storage/avatars/default.jpg",username:!1,display_name:"",following_count:0,followers_count:0}}},links:{type:Array,default:function(){return[{name:"Discover",path:"/i/web/discover",icon:"fas fa-compass"},{name:"Groups",path:"/i/web/groups",icon:"far fa-user-friends"},{name:"Videos",path:"/i/web/videos",icon:"far fa-video"}]}}},components:{UpdateAvatar:i.default},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){r(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({},(0,s.mapGetters)(["getCustomEmoji"])),data:function(){return{loaded:!1,hasLocalTimeline:!0,hasNetworkTimeline:!1,hasLiveStreams:!1,hasStories:!1,hasGroups:!1,showLegalNoticeLink:window.App.config.show_legal_notice_link}},mounted:function(){window.App.config.features.hasOwnProperty("timelines")&&(this.hasLocalTimeline=App.config.features.timelines.local,this.hasNetworkTimeline=App.config.features.timelines.network,this.hasGroups=App.config.features.groups),window.App.config.features.hasOwnProperty("stories")&&(this.hasStories=App.config.features.stories)},methods:{getDisplayName:function(){var t=this,e=this.user,a=e.display_name;if(!a)return e.username;if(a.includes(":")){return a.replaceAll(/(<a?)?:\w+:(\d{18}>)?/g,function(e){var a=e.slice(1,e.length-1),s=t.getCustomEmoji.filter(function(t){return t.shortcode==a});return s.length?'<img draggable="false" class="emojione custom-emoji" alt="'.concat(s[0].shortcode,'" title="').concat(s[0].shortcode,'" src="').concat(s[0].url,'" data-original="').concat(s[0].url,'" data-static="').concat(s[0].static_url,'" width="16" height="16" onerror="this.onerror=null;this.src=\'/storage/emoji/missing.png\';" />'):e})}return a},gotoMyProfile:function(){var t=this.user;this.$router.push({name:"profile",path:"/i/web/profile/".concat(t.id),params:{id:t.id,cachedProfile:t,cachedUser:t}})},formatCount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-GB",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"compact";return new Intl.NumberFormat(e,{notation:a,compactDisplay:"short"}).format(t)},updateAvatar:function(){event.currentTarget.blur(),this.$refs.avatarUpdate.open()},createNewPost:function(){this.$refs.createPostModal.show()},goToFeed:function(t){var e=this.$route.path;switch(t){case"home":"/i/web"==e?this.$emit("refresh"):this.$router.push("/i/web");break;case"local":"/i/web/timeline/local"==e?this.$emit("refresh"):this.$router.push({name:"timeline",params:{scope:"local"}});break;case"global":"/i/web/timeline/global"==e?this.$emit("refresh"):this.$router.push({name:"timeline",params:{scope:"global"}})}}}}},80260:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(50371),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i);const o=s.default},82704:(t,e,a)=>{a.r(e);var s=a(67153),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i)},84154:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});const s={props:["user"],data:function(){return{loaded:!1,avatarUpdateIndex:0,avatarUpdateFile:void 0,avatarUpdatePreview:void 0}},methods:{open:function(){this.$refs.avatarUpdateModal.show()},avatarUpdateClose:function(){this.$refs.avatarUpdateModal.hide(),this.avatarUpdateIndex=0,this.avatarUpdateFile=void 0},avatarUpdateClear:function(){this.avatarUpdateIndex=0,this.avatarUpdateFile=void 0},avatarUpdateStep:function(t){this.$refs.avatarUpdateRef.click(),this.avatarUpdateIndex=t},handleAvatarUpdate:function(){var t=this,e=event.target.files;Array.prototype.forEach.call(e,function(e,a){t.avatarUpdateFile=e,t.avatarUpdatePreview=URL.createObjectURL(e),t.avatarUpdateIndex=1})},handleDrop:function(t){t.preventDefault();var e=this;if(t.dataTransfer.items){for(var a=0;a<t.dataTransfer.items.length;a++)if("file"===t.dataTransfer.items[a].kind){var s=t.dataTransfer.items[a].getAsFile();if(!s)return;e.avatarUpdateFile=s,e.avatarUpdatePreview=URL.createObjectURL(s),e.avatarUpdateIndex=1}}else for(a=0;a<t.dataTransfer.files.length;a++){if(!t.dataTransfer.files[a].hasOwnProperty("name"))return;e.avatarUpdateFile=t.dataTransfer.files[a],e.avatarUpdatePreview=URL.createObjectURL(t.dataTransfer.files[a]),e.avatarUpdateIndex=1}},confirmUpload:function(){var t=this;if(window.confirm("Are you sure you want to change your avatar photo?")){var e=new FormData;e.append("_method","PATCH"),e.append("avatar",this.avatarUpdateFile),axios.post("/api/v1/accounts/update_credentials",e).then(function(e){window._sharedData.user.avatar=e.data.avatar,t.avatarUpdateClose()}).catch(function(t){t.response.data&&t.response.data.errors&&t.response.data.errors.avatar&&t.response.data.errors.avatar.length&&swal("Oops!",t.response.data.errors.avatar[0],"error")})}}}}},89069:(t,e,a)=>{a.r(e);var s=a(74688),i={};for(const t in s)"default"!==t&&(i[t]=()=>s[t]);a.d(e,i)},90414:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var s=a(82704),i=a(55597),o={};for(const t in i)"default"!==t&&(o[t]=()=>i[t]);a.d(e,o);const n=(0,a(14486).default)(i.default,s.render,s.staticRenderFns,!1,null,null,null).exports},94586:(t,e,a)=>{a.r(e),a.d(e,{default:()=>r});var s=a(85072),i=a.n(s),o=a(42615),n={insert:"head",singleton:!1};i()(o.default,n);const r=o.default.locals||{}}}]);